<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">

    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
</head>
<body>
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg fixed-top bg-white navbar-light white-nav-top">
        <div class="container">
            <span class="navbar-brand">
                <a href='@(Request.IsAuthenticated?@Url.Action("SellYourNotes","Notes"):@Url.Action("Index","Home"))'>
                    <img src='@Url.Content("~/Content/images/User-Profile/logo.png")' class="img-responsive nav-logo" alt="notesmarketplace">
                </a>
            </span>

            <button class="navbar-toggler" id="openmenu" type="button">
                <i class="fa fa-bars"></i>
            </button>


            <!-- Mobile Menu -->
            <div id="mobile-nav">
                <a href='@(Request.IsAuthenticated?@Url.Action("SellYourNotes","Notes"):@Url.Action("Index","Home"))'>
                    <img src='@Url.Content("~/Content/images/Dashboard/logo.png")' class="img-responsive nav-logo mt-3" alt="notesmarketplace">
                </a>


                <!-- Mobile Menu Close Button -->
                <span id="mobile-nav-close-btn">&times;</span>

                <div id="mobile-nav-content">
                    <ul class="navbar-nav ml-auto">

                        <li class="nav-item">
                            <a class="nav-link  mt-3" href='@Url.Action("SearchNotes","Notes")'><b class="white-nav @(ViewContext.RouteData.Values["Action"].ToString()=="SearchNotes"?"nav-active":"")">Search Notes</b></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link  mt-3" href='@Url.Action("SellYourNotes","Notes")'><b class="white-nav @(ViewContext.RouteData.Values["Action"].ToString()=="SellYourNotes"?"nav-active":"")">Sell Your Notes</b></a>
                        </li>

                        @if (Request.IsAuthenticated)
                        {
                            <li class="nav-item">
                                <a class="nav-link mt-3" href='@Url.Action("BuyerRequest","ManageNotes")'><b class="white-nav @(ViewContext.RouteData.Values["Action"].ToString()=="BuyerRequest"?"nav-active":"")">Buyer Requests</b></a>
                            </li>
                        }


                        <li class="nav-item ">
                            <a class="nav-link mt-3" href='@Url.Action("FAQ","Home")'><b class="white-nav @(ViewContext.RouteData.Values["Action"].ToString()=="FAQ"?"nav-active":"")">FAQ</b></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link mt-3" href='@Url.Action("ContactUs","Home")'><b class="white-nav @(ViewContext.RouteData.Values["Action"].ToString()=="ContactUs"?"nav-active":"")">Contact Us</b></a>
                        </li>

                        @if (Request.IsAuthenticated)
                        {
                           

                            <li class="nav-item">
                                <div class="dropdown">
                                    <a href="#" class="nav-link " id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                      <img src="" alt="User Photo" class="rounded-circle avatar-sm img-responsive mt-3 dp" style="margin-right: 10px;">
                                    </a>

                                    <div class="dropdown-menu custom-mobile-dropdown" aria-labelledby="dropdownMenuLink">
                                        <a class="dropdown-item" href="@Url.Action("EditProfile","User")">My Profile</a>
                                        <a class="dropdown-item" href="@Url.Action("MyDownloadsNotes","ManageNotes")">My Downloads</a>
                                        <a class="dropdown-item" href="@Url.Action("MySoldNotes","ManageNotes")">My Sold Notes</a>
                                        <a class="dropdown-item" href="@Url.Action("MyRejectedNotes","ManageNotes")">My Rejected Notes</a>
                                        <a class="dropdown-item" href="@Url.Action("ChangePassword","Account")">Change Password</a>
                                        <a class="dropdown-item drop-logout"  onclick="ConfirmLogout()">Logout</a>

                                    </div>
                                </div>

                            </li>



                         
                                <li class="nav-item">
                                   
                                        <button onclick="ConfirmLogout()" class="btn btn-general btn-sm mt-3">Logout</button>

                                 

                                </li>
                           
                        }
                        else
                        {

                            <li class="nav-item">
                                <a class="nav-link" href="@Url.Action("Login", "Account")"><button type="submit" class="btn btn-general px-3 mt-3">Login</button></a>
                            </li>
                        }
                    </ul>
                </div>
            </div>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto">

                    <li class="nav-item">
                        <a class="nav-link  mt-2" href='@Url.Action("SearchNotes","Notes")'><b class="white-nav @(ViewContext.RouteData.Values["Action"].ToString()=="SearchNotes"?"nav-active":"")">Search Notes</b></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link mt-2" href='@Url.Action("SellYourNotes","Notes")'><b class="white-nav @(ViewContext.RouteData.Values["Action"].ToString()=="SellYourNotes"?"nav-active":"")">Sell Your Notes</b></a>
                    </li>
                    @if (Request.IsAuthenticated)
                    {
                        <li class="nav-item">
                            <a class="nav-link mt-2" href='@Url.Action("BuyerRequest","ManageNotes")'><b class="white-nav @(ViewContext.RouteData.Values["Action"].ToString()=="BuyerRequest"?"nav-active":"")">Buyer Requests</b></a>
                        </li>
                    }


                    <li class="nav-item ">
                        <a class="nav-link mt-2 " href='@Url.Action("FAQ","Home")'><b class="white-nav @(ViewContext.RouteData.Values["Action"].ToString()=="FAQ"?"nav-active":"")">FAQ</b></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link mt-2" href='@Url.Action("ContactUs","Home")'><b class="white-nav @(ViewContext.RouteData.Values["Action"].ToString()=="ContactUs"?"nav-active":"")">Contact Us</b></a>
                    </li>
                    @if (Request.IsAuthenticated)
                    {
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                            </a>
                        </li>
                        <li class="nav-item">
                            <div class="dropdown">
                                <a href="#" class="nav-link " id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">

                                    <img src="" alt="User Photo" class="rounded-circle avatar-sm img-responsive mt-0 dp" style="margin-right: 10px;">
                                </a>

                                <div class="dropdown-menu custom-dropdown" aria-labelledby="dropdownMenuLink">
                                    <a class="dropdown-item" href="@Url.Action("EditProfile","User")">My Profile</a>
                                    <a class="dropdown-item" href="@Url.Action("MyDownloadsNotes","ManageNotes")">My Downloads</a>
                                    <a class="dropdown-item" href="@Url.Action("MySoldNotes","ManageNotes")">My Sold Notes</a>
                                    <a class="dropdown-item" href="@Url.Action("MyRejectedNotes","ManageNotes")">My Rejected Notes</a>
                                    <a class="dropdown-item" href="@Url.Action("ChangePassword","Account")">Change Password</a>
                                   
                                    <a class="dropdown-item drop-logout" onclick="ConfirmLogout()">Logout</a>

                                </div>
                            </div>

                        </li>

                        using (Html.BeginForm("Logout", "Account", FormMethod.Post, new { id = "logoutForm" }))
                        { }
                            <li class="nav-item">
                                    <button onclick="ConfirmLogout()" class="btn btn-general btn-sm mt-0">Logout</button>
                            </li>
                                       
                      }
                       else
                                    {

                        <li class="nav-item">
                            <a class="nav-link" href="@Url.Action("Login", "Account")"><button type="submit" class="btn btn-general px-3 mt-0">Login</button></a>
                        </li>
                    }
                </ul>
            </div>
        </div>
    </nav>

    <!-- Navigation End -->


    @RenderBody()
    <!-- Footer-->
    <footer class="footer">
        <hr>
        <div class="container">

            <p class="footer-text">Copyright &copy; TatvaSoft All right reserved.</p>
            <ul class="social-list ">
                <li><a id="facebook" href="#"><i class="fa fa-facebook"></i></a></li>
                <li><a id="twitter" href="#"><i class="fa fa-twitter"></i></a></li>
                <li><a id="linkedin" href="#"><i class="fa fa-linkedin"></i></a></li>
            </ul>
        </div>
    </footer>
    <!-- Footer End-->



    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/js")
    @Scripts.Render("~/bundles/jqueryval")
    @RenderSection("scripts", required: false)

<script>
    $(function () {

        $.ajax({
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            url: '@Url.Action("Footer", "Home")',
            type: "Post"
        })
            .done(function (d) {
                $("#linkedin").attr("href", d.LNICON);
                $("#facebook").attr("href", d.FBICON);
                $("#twitter").attr("href", d.TWITTERICON);
                if (d.DefaultMemberDisplayPicture != null) {
                    $(".dp").attr("src","/"+d.DefaultMemberDisplayPicture);
                }


            });
    });


        function ConfirmLogout() {
            swal({
                title: "Are you sure you want to logout?",
                icon: "info",
                buttons: ["No","Yes"],

            })
                .then((willDelete) => {
                    if (willDelete) {
                        document.getElementById('logoutForm').submit();
                    }
                });
        }

</script>


</body>
</html>
